{% extends "base.html" %}
{% block content %}

<div class="container-fluid">
    <div class="container mx-0 px-0">

        <div class="row mb-2 mx-0">

            <div class="col-lg-12 clear-fix">

                                
                <span class="float-right">                        

                                    
                    <a href="#addUserModal" data-toggle = "modal" class="btn btn-sm btn-primary">
                        <i class="fa fa-plus"></i>&nbsp;Add New
                    </a>

                </span>
            </div>

        </div>
        
        <div class="table-responsive">
            <table id="dataTable" class="table table-striped table-bordered table-hover table-sm" width="100%">
                <thead>
                    <tr>
                        <th></th>
                        <th>#</th>                        
                        <th>Full Name</th>
                        <th>Email</th>                        
                        <th>Username</th>
                        <th>Role</th>
                        <th>Actions</th>                        
                    </tr>
                </thead>
                <tbody>
                    {# Data will be populated via AJAX #}
                </tbody>
            </table>
        </div>

    </div>
</div>

{% endblock %}

{% block javascript %}
<script>

    $.ajaxSetup({

        headers: {

            'X-CSRF-TOKEN':$('meta[name="csrf-token"]').attr('content')
        }

    });
    
    $(function() {

        $('#dataTable').DataTable({
            processing:true,
            // serverside:true,
            info:true,
            "pageLength":5,
            "aLengthMenu":[[5,10,25,50,-1],[5,10,25,50,"All"]],
            ajax: {
                url: '/api/users/',
                dataSrc: ''
            },
            columns: [

                { data: 'checkbox', visible:false,orderable:false, searchable:false },
                { data: 'rowIndex', searchable:false, className: 'text-left'  },
                { data: 'full_name' },
                { data: 'username' },
                { data: 'email' },                    
                { data: 'role_name' },
                { data: 'actions', orderable:false, searchable:false },
                
            ],
    
        }).on('draw', function(){



        });


        /*
        $(document).on('click', '#editUserBtn', function(){

            var user_id = $(this).data('id');
            alert(user_id);

        });
        */



    });

</script>
{% endblock %}    
